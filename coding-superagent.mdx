---
title: "Coding Superagent"
sidebarTitle: "Coding Superagent"
description: "Membria + Claude Code: Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ´Ğ° Ñ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· Ğ¸Ğ½ÑŠĞµĞºÑ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°."
---

# Coding Superagent: Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Membria + Claude Code

## Executive Summary

Membria Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ñ Claude Code Ğ´Ğ»Ñ **Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ´Ğ° Ñ ÑƒÑ‡ĞµÑ‚Ğ¾Ğ¼ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹** (decision-aware code generation) â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ Ğ¿Ñ€Ğ¾ÑˆĞ»Ñ‹Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ, ÑƒÑ‡Ğ¸Ñ‚ÑÑ Ğ½Ğ° Ğ¸Ñ… outcomes Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°Ğ¼ Ğ½Ğµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑ‚ÑŒ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸.

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ğ¸Ğ´ĞµÑ:** Claude Code Ğ±ĞµĞ· Membria â€” ÑÑ‚Ğ¾ stateless Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ ĞºĞ¾Ğ´Ğ°. Claude Code Ñ Membria â€” Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞ¼ĞµĞ½Ñ‚, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚, ĞºĞ°ĞºĞ¸Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ÑÑ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ»Ğ¸, Ğ° ĞºĞ°ĞºĞ¸Ğµ Ğ½ĞµÑ‚, Ğ¸ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ° Ğ¾ Ñ€Ğ¸ÑĞºĞ°Ñ… Ğ´Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ°.

---

## ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°: stateless Ğ˜Ğ˜ Ğ² Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ ĞŸĞ

### Ğ¢ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ

Ğ¡Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ AI coding assistants (Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ Claude Code) Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚ Ğ² Ñ€ĞµĞ¶Ğ¸Ğ¼Ğµ **stateless**:

- ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾.
- ĞĞµÑ‚ Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ Ğ¾ Ğ¿Ñ€Ğ¾ÑˆĞ»Ñ‹Ñ… Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ñ… Ñ€ĞµÑˆĞµĞ½Ğ¸ÑÑ….
- ĞĞµÑ‚ Ğ·Ğ½Ğ°Ğ½Ğ¸Ñ Ğ¾ Ñ‚Ğ¾Ğ¼, ĞºĞ°ĞºĞ¸Ğµ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹ ÑƒĞ¶Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ²Ğ°Ğ»Ğ¸ÑÑŒ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ»Ğ¸Ğ»Ğ¸ÑÑŒ.
- ĞĞµÑ‚ ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ¸ â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ½Ğµ Ğ·Ğ½Ğ°ĞµÑ‚, Ğ½Ğ°ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ‚Ğ¾Ñ‡Ğ½Ñ‹ ĞµĞµ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹.

### ĞŸĞ¾ÑĞ»ĞµĞ´ÑÑ‚Ğ²Ğ¸Ñ

1. **ĞŸĞ¾Ğ²Ñ‚Ğ¾Ñ€ĞµĞ½Ğ¸Ğµ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº:** ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ²Ñ‹Ğ±Ñ€Ğ°Ñ‚ÑŒ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºÑƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ ÑƒĞ¶Ğµ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°Ğ»Ğ° Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ 6 Ğ¼ĞµÑÑÑ†ĞµĞ² Ğ½Ğ°Ğ·Ğ°Ğ´.
2. **ĞŸĞ¾Ñ‚ĞµÑ€Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°:** Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ñ‚ĞµÑ€ÑÑÑ‚ÑÑ Ğ² Ñ‡Ğ°Ñ‚Ğ°Ñ… Slack Ğ¸ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸ÑÑ… Ğº PR.
3. **Hindsight bias:** Ğ¿Ğ¾ÑĞ»Ğµ Ğ¸Ğ½Ñ†Ğ¸Ğ´ĞµĞ½Ñ‚Ğ° Ğ²ÑĞµĞ¼ ĞºĞ°Ğ¶ĞµÑ‚ÑÑ, Ñ‡Ñ‚Ğ¾ Ğ¾Ğ½Ğ¸ "Ğ·Ğ½Ğ°Ğ»Ğ¸", Ñ‡Ñ‚Ğ¾ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ±Ñ‹Ğ»Ğ¾ Ğ¿Ğ»Ğ¾Ñ…Ğ¸Ğ¼, Ğ½Ğ¾ ÑĞ¾Ğ¼Ğ½ĞµĞ½Ğ¸Ñ Ğ´Ğ¾ Ğ¸Ğ½Ñ†Ğ¸Ğ´ĞµĞ½Ñ‚Ğ° Ğ½Ğ¸ĞºÑ‚Ğ¾ Ğ½Ğµ Ğ·Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ».
4. **ĞĞµÑ‚ learning loop:** ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Ğ½Ğµ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ² ÑĞ²Ğ¾Ğ¸Ñ… Ñ€ĞµÑˆĞµĞ½Ğ¸ÑÑ… â€” Ğ² ĞºĞ°ĞºĞ¸Ñ… Ñ‚Ğ¸Ğ¿Ğ°Ñ… Ğ·Ğ°Ğ´Ğ°Ñ‡ Ğ¾Ğ½Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ overconfident.

---

## Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ: Decision-Aware Code Generation

### ĞšĞ°Ğº ÑÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚

Membria Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ Ñ‚Ñ€Ğ¸ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ğº Claude Code:

| Capability | Ğ§Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚ | ĞšĞ¾Ğ³Ğ´Ğ° ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ |
| :--- | :--- | :--- |
| **Pre-generation Context** | ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½ÑƒÑ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğ¹ Ğ´Ğ¾ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ´Ğ° | ĞšĞ¾Ğ³Ğ´Ğ° Ğ¾Ğ±Ğ½Ğ°Ñ€ÑƒĞ¶ĞµĞ½ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚ Ğ½Ğ° Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ |
| **Decision Capture** | Ğ¤Ğ¸ĞºÑĞ¸Ñ€ÑƒĞµÑ‚ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ Ñ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ°Ğ¼Ğ¸ Ğ¸ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ´Ğ¾ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ñ ĞºĞ¾Ğ´Ğ° | ĞšĞ¾Ğ³Ğ´Ğ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ğ°ĞµÑ‚ Ğ²Ñ‹Ğ±Ğ¾Ñ€ |
| **Outcome Linking** | Ğ¡Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ (PR merged, CI failed, incident) Ñ Ñ€ĞµÑˆĞµĞ½Ğ¸ÑĞ¼Ğ¸ | ĞŸÑ€Ğ¸ Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ğ¸ Commitment Events |

### Ğ§Ñ‚Ğ¾ ĞĞ• ÑĞ²Ğ»ÑĞµÑ‚ÑÑ Ñ€ĞµÑˆĞµĞ½Ğ¸ĞµĞ¼

Ğ’Ğ°Ğ¶Ğ½Ğ¾: Ğ½Ğµ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Claude Code â€” ÑÑ‚Ğ¾ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸Ñ†Ğ¸Ñ€ÑƒĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ¸:

| Task Type | ĞŸÑ€Ğ¸Ğ¼ĞµÑ€Ñ‹ | Ğ£Ñ‡Ğ°ÑÑ‚Ğ¸Ğµ Membria |
| :--- | :--- | :--- |
| **Tactical** | "Fix typo", "Add logging", "Format code" | ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ â€” Ğ¿Ñ€ÑĞ¼Ğ¾Ğµ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ğµ |
| **Decision** | "Choose library", "Design API", "Refactor architecture" | ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ â€” ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚, capture, tracking |
| **Learning** | "PR merged", "Tests failed", "Incident reported" | Linking outcome to past decisions |

---

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

```mermaid
flowchart TD
    subgraph "IDE / PR / CI Layer"
        A[VS Code, GitHub PR, Jira, CI jobs]
    end
    
    A --> CCP[Claude Control Plane (CCP)]

    subgraph CCP
        TR[Task Router]
        T1[Tactical Task]
        T2[Decision Task]
        T3[Learning Task]
        PG[Pre-Generation Context Fetch]
        DS[Decision Surface (IDE Inline)]
        DC[Decision Capture (DBB)]
        AG[Agent / TENN (graph + logic)]
    end

    CCP --> TR
    TR --> T1
    TR --> T2
    TR --> T3
    T2 --> PG
    PG --> DS
    DS --> DC
    DC --> AG

    AG --> PE[Policy Engine (Graph-Informed)]
    PE --> MCP[MCP Server (Claude Runtime Control)]
    MCP --> CC[Claude Code (stateless)]
    MCP --> VG[Post-Generation Validators]
    VG --> RG[Membria Reasoning Graph]
    RG --> OCL[Outcome Capture Layer]
    OCL --> RG
```

### ĞšĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Task Router

* **code_gen** â†’ tactical (Ğ±ĞµĞ· Decision Capture)
* **architecture** â†’ decision (Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ¿Ğ¾Ñ‚Ğ¾Ğº Membria)
* **refactor** â†’ decision (ĞµÑĞ»Ğ¸ structural change)
* **debug** â†’ tactical (ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ° root cause)
* **library_choice** â†’ decision (Ğ²ÑĞµĞ³Ğ´Ğ°)

**Decision Signals:**
* "choose", "decide", "should we", "which is better"
* ÑƒĞ¿Ğ¾Ğ¼ÑĞ½ÑƒÑ‚Ğ¾ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²
* Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ°: "pattern", "structure", "design"

### Pre-Generation Context Fetch (Query Reasoning Graph)

* Ğ¿Ñ€Ğ¾ÑˆĞ»Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ ÑÑ‚Ğ¾Ğ¼Ñƒ Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ
* Ğ¿Ñ€Ğ¾Ğ²Ğ°Ğ»ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ assumptions
* ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°
* Ğ°Ğ»ĞµÑ€Ñ‚Ñ‹ Ğ¿Ğ¾ Negative knowledge

### Decision Surface (IDE Inline)

ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºÑƒ:
* Ğ¿Ñ€Ğ¾ÑˆĞ»Ñ‹Ğµ Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ
* Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¾ Ñ€Ğ¸ÑĞºĞ°Ñ…
* Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·ĞºĞ¸ Ğ¿Ğ¾ ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞµ
* Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²

Buttons: `[Proceed]`, `[Review]`, `[Override]`

### Decision Capture (DBB)

Ğ—Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚:
* statement
* alternatives
* confidence level
* predicted outcome
* context (immutable)

### Ğ ĞµĞ¶Ğ¸Ğ¼Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Agent / TENN

* **Tactical:** Ğ¿Ñ€ÑĞ¼Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ´Ğ°
* **Decision:** Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ·Ğ°Ñ…Ğ²Ğ°Ñ‡ĞµĞ½Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼
* **Learning:** ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ outcome Ñ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼ Ñ€ĞµÑˆĞµĞ½Ğ¸ĞµĞ¼

### Policy Engine (Graph-Informed)

**Static Rules:**
* security policies (no hardcoded secrets)
* compliance requirements (GDPR, SOC2)
* code style enforcement

**Dynamic Rules (from Reasoning Graph):**
* team-specific calibration adjustments
* domain-specific confidence thresholds
* negative knowledge enforcement

**Resonance Detection:**
* check alignment between human bias and LLM bias
* trigger friction if both ignore the same risk

### MCP Server (Claude Runtime Control)

* **Context Injection:**
  * decision context from capture
  * negative knowledge from Graph
  * team preferences and patterns
* **Tool Exposure:**
  * code generation tools
  * graph query tools
  * decision recording tools
* **Mode Enforcement:**
  * tactical mode: minimal context
  * decision mode: full context injection
* **Output Schema Validation**

### Post-Generation Validators

**Bias Detection in Output:**
* **Anchoring:** excessive focus on the first option in code comments
* **Confirmation:** ignoring stated alternatives
* **Overconfidence:** words like "definitely", "always works", "no issues"

**Consistency Checks:**
* does generated code match the captured decision?
* is negative knowledge respected?
* are alternatives actually considered in implementation?

**Validation Failures:**
* log for calibration (do not block)
* alert if critical (security, compliance)

### Membria Reasoning Graph (Decision Record)

```
decision_id: dec_142
statement: "Use Fastify for REST API"
alternatives: ["Express.js", "Koa", "Custom"]
confidence: 0.60
predicted_outcome: "Stable API, good performance"
assumptions: ["Fastify handles our load", "Team knows it"]
context_hash: "abc123..." (immutable)
status: PENDING_OUTCOME
linked_pr: null -> PR#234 (when created)
linked_commit: null -> commit_sha (when merged)
```

**Relationships:**
* `RELIES_ON`: assumptions
* `BLOCKS`: dependent decisions
* `SUPERSEDES`: previous decisions on same topic
* `CAUSED_BY`: parent architectural decisions

### Outcome Capture Layer (Commitment Events)

| Source | Event | Outcome Signal |
| :--- | :--- | :--- |
| GitHub | PR merged | Decision executed |
| GitHub | PR closed (no merge) | Decision abandoned |
| CI/CD | Tests pass | Positive signal |
| CI/CD | Tests fail | Negative signal |
| CI/CD | Build fail | Negative signal |
| PagerDuty | Incident created | Strong negative |
| Jira | Bug linked to PR | Negative signal |
| Time | 30 days stable | Positive outcome |
| Time | 90 days stable | Strong positive outcome |

**Calibration Update:**
* compare `predicted_outcome` vs `actual_outcome`
* update team calibration profile
* update domain-specific calibration
* generate LoRA candidate if systematic gap detected

---

## Detailed Flow: Library Selection Decision

### Scenario

Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ² VS Code Ğ¿Ğ¸ÑˆĞµÑ‚: "Add REST API for user management, need to choose a framework".

### Step 1: Task Router Classification

```
Input: "Add REST API for user management, need to choose a framework"

Classification Analysis:
â”œâ”€â”€ Keywords detected: "choose", "framework"
â”œâ”€â”€ Multiple alternatives implied: yes
â”œâ”€â”€ Architectural impact: yes (API framework affects whole service)
â””â”€â”€ Decision type: LIBRARY_CHOICE

Result: Route to DECISION flow (not tactical)
```

### Step 2: Pre-Generation Context Fetch

```
Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğº Reasoning Graph:

MATCH (d:Decision)-[:ABOUT]->(t:Topic)
WHERE t.name IN ["REST API", "framework", "HTTP server"]
  AND d.repo = "current-repo"
RETURN d, d.outcome, d.assumptions

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Decision #47 (8 Ğ¼ĞµÑÑÑ†ĞµĞ² Ğ½Ğ°Ğ·Ğ°Ğ´)                                     â”‚
â”‚ Statement: "Use Express.js for API gateway"                        â”‚
â”‚ Outcome: SUCCESS                                                   â”‚
â”‚ Notes: "Worked well, team familiar"                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Decision #89 (6 Ğ¼ĞµÑÑÑ†ĞµĞ² Ğ½Ğ°Ğ·Ğ°Ğ´)                                     â”‚
â”‚ Statement: "Use custom middleware for authentication"              â”‚
â”‚ Outcome: FAILURE                                                   â”‚
â”‚ Notes: "Security vulnerability found, had to rewrite"              â”‚
â”‚ Negative knowledge: "Avoid custom auth middleware"                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Team Calibration (library choices):                                â”‚
â”‚ â€¢ Average confidence: 0.78                                         â”‚
â”‚ â€¢ Actual success rate: 0.61                                        â”‚
â”‚ â€¢ Calibration gap: +17% (overconfident)                            â”‚
â”‚ â€¢ Recommendation: Reduce stated confidence by ~15%                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 3: Decision Surface Display (in IDE)

Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ **Ğ´Ğ¾** Ñ‚Ğ¾Ğ³Ğ¾, ĞºĞ°Ğº Claude Ñ‡Ñ‚Ğ¾-Ğ»Ğ¸Ğ±Ğ¾ ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ§  Membria Decision Context                                        â”‚
â”‚                                                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“Š Ğ Ğ•Ğ›Ğ•Ğ’ĞĞĞ¢ĞĞĞ¯ Ğ˜Ğ¡Ğ¢ĞĞ Ğ˜Ğ¯                                             â”‚
â”‚                                                                     â”‚
â”‚  âœ… Express.js worked well (8 Ğ¼ĞµÑÑÑ†ĞµĞ² Ğ½Ğ°Ğ·Ğ°Ğ´)                       â”‚
â”‚     "API gateway - team was familiar, stable in prod"              â”‚
â”‚                                                                     â”‚
â”‚  âŒ Custom middleware failed (6 Ğ¼ĞµÑÑÑ†ĞµĞ² Ğ½Ğ°Ğ·Ğ°Ğ´)                     â”‚
â”‚     "Security vulnerability, 2-week rewrite"                       â”‚
â”‚     âš ï¸ NEGATIVE KNOWLEDGE: Avoid custom auth solutions             â”‚
â”‚                                                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ“ˆ ĞšĞĞ›Ğ˜Ğ‘Ğ ĞĞ’ĞšĞ ĞšĞĞœĞĞĞ”Ğ«                                              â”‚
â”‚                                                                     â”‚
â”‚  Ğ’Ğ°ÑˆĞ° ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° ÑĞºĞ»Ğ¾Ğ½Ğ½Ğ° Ğº overconfidence (17%) Ğ¿Ñ€Ğ¸ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğµ Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞº.  â”‚
â”‚  Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚Ğµ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ 80%, Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿Ğ¾Ğ´ÑĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ~65%.     â”‚
â”‚                                                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                     â”‚
â”‚  ğŸ’¡ Ğ¡ĞĞĞ‘Ğ ĞĞ–Ğ•ĞĞ˜Ğ¯                                                     â”‚
â”‚                                                                     â”‚
â”‚  â€¢ Express.js: proven in this repo, team knows it                  â”‚
â”‚  â€¢ Fastify: faster, but team has no experience                     â”‚
â”‚  â€¢ Koa: minimal, might need more custom code                       â”‚
â”‚                                                                     â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚
â”‚                                                                     â”‚
â”‚  Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ñ‹ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ?                                                 â”‚
â”‚                                                                     â”‚
â”‚  [ Proceed with Claude ] [ Review History ] [ I'll decide myself ] â”‚
â”‚                                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Step 4: Developer Interaction

Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº Ğ½Ğ°Ğ¶Ğ¸Ğ¼Ğ°ĞµÑ‚ "Proceed with Claude" Ğ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚: "Let's go with Fastify for better performance".

### Step 5: Decision Capture (DBB)

Ğ”Ğ¾ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ ĞºĞ¾Ğ´Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ñ„Ğ¸ĞºÑĞ¸Ñ€ÑƒĞµÑ‚:

```json
{
  "decision_id": "dec_142",
  "timestamp": "2025-02-06T14:32:00Z",
  "statement": "Use Fastify for REST API in user-service",
  "alternatives_considered": [
    {
      "option": "Express.js",
      "reason_rejected": "Need better performance"
    },
    {
      "option": "Koa",
      "reason_rejected": "Too minimal"
    },
    {
      "option": "Custom",
      "reason_rejected": "Negative knowledge from dec_89"
    }
  ],
  "confidence": {
    "stated": 0.75,
    "calibrated": 0.62,
    "calibration_note": "Adjusted for team's +17% overconfidence in library choices"
  },
  "assumptions": [
    "Fastify handles our expected load (10k req/s)",
    "Team can learn Fastify quickly",
    "Fastify ecosystem has needed plugins"
  ],
  "predicted_outcome": {
    "description": "Stable, performant API ready in 2 weeks",
    "success_criteria": [
      "API handles 10k req/s",
      "No critical bugs in first month",
      "Team onboarding < 1 week"
    ]
  },
  "context_hash": "sha256:abc123...",
  "status": "CAPTURED",
  "linked_artifacts": {
    "pr": null,
    "commit": null,
    "jira": "PROJ-456"
  },
  "negative_knowledge_acknowledged": [
    "dec_89: Avoid custom auth middleware"
  ]
}
```

### Step 6: MCP Server Context Injection

Claude Code Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ¾Ğ±Ğ¾Ğ³Ğ°Ñ‰ĞµĞ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚:

```
Ğ˜Ğ½ÑŠĞµĞºÑ†Ğ¸Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ĞšĞĞĞ¢Ğ•ĞšĞ¡Ğ¢ Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ¯:
Ğ’Ñ‹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·ÑƒĞµÑ‚Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ¾Ğµ Ğ±Ñ‹Ğ»Ğ¾ Ğ·Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾.
Decision: "Use Fastify for REST API in user-service"

ĞĞ“Ğ ĞĞĞ˜Ğ§Ğ•ĞĞ˜Ğ¯ Ğ˜Ğ— Ğ˜Ğ¡Ğ¢ĞĞ Ğ˜Ğ˜:
âŒ DO NOT implement custom authentication middleware
   (Previous attempt failed with security issues - see dec_89)

âœ… DO use established authentication libraries (passport, etc.)

ĞŸĞĞ¢Ğ¢Ğ•Ğ ĞĞ« ĞšĞĞœĞĞĞ”Ğ«:
â€¢ This team prefers explicit error handling over middleware magic
â€¢ Previous APIs in this repo use consistent /api/v1/ prefix
â€¢ Team uses Zod for validation (see dec_98)

ASSUMPTIONS TO VALIDATE:
Ğ ĞµÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¿Ğ¾Ğ»Ğ°Ğ³Ğ°ĞµÑ‚, Ñ‡Ñ‚Ğ¾ Fastify Ğ²Ñ‹Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ 10k req/s.
Ğ£Ñ‡Ğ¸Ñ‚Ñ‹Ğ²Ğ°Ğ¹Ñ‚Ğµ ÑÑ‚Ğ¾ Ğ² Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸.

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### Step 7: Claude Code Generation

Claude Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Fastify API ĞºĞ¾Ğ´, Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ¾Ğ¼:
* no custom auth middleware (negative knowledge respected)
* uses passport-jwt for authentication
* includes performance notes
* follows `/api/v1/` convention
* uses Zod for validation

### Step 8: Post-Generation Validation

```
Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Decision consistency: Code uses Fastify (matches decision)
âœ… Negative knowledge: No custom auth middleware found
âœ… Assumptions addressed: Performance notes included
âš ï¸ Bias check: Found "this will definitely scale" - overconfident language
   (Logged for calibration, not blocking)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

### Step 9: PR Creation & Linking

Ğ Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸Ğº ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ PR. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚:

```
Decision dec_142 updated:
â”œâ”€â”€ linked_pr: PR#234
â”œâ”€â”€ linked_commit: abc123
â”œâ”€â”€ status: PENDING_OUTCOME â†’ EXECUTED
â””â”€â”€ execution_date: 2025-02-06T15:45:00Z
```

### Step 10: Outcome Capture (Async)

**Day 1: PR Merged**
```
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ: PR#234 merged to main
Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»: POSITIVE (code accepted)
Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ: MERGED
```

**Day 3: CI Passes**
```
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ: All tests pass, deployment successful
Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»: POSITIVE (technical validation)
```

**Day 14: Minor Bug Found**
```
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ: Jira bug PROJ-478 linked to PR#234
Ğ¡Ğ¸Ğ³Ğ½Ğ°Ğ»: WEAK_NEGATIVE (minor issue)
Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ°: "Fastify plugin compatibility issue, fixed in 2 hours"
```

**Day 30: Stability Check**
```
Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ğµ: 30-day stability window passed
ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸:
â”œâ”€â”€ Uptime: 99.9%
â”œâ”€â”€ P99 latency: 45ms
â”œâ”€â”€ Throughput: achieved 12k req/s (exceeds assumption)
â””â”€â”€ Bugs: 1 minor (resolved)

Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ outcome: SUCCESS
```

### Step 11: Calibration Update

```
ĞĞ½Ğ°Ğ»Ğ¸Ğ· ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ´Ğ»Ñ dec_142:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ĞŸÑ€ĞµĞ´ÑĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğµ: "Stable, performant API ready in 2 weeks"
Ğ¤Ğ°ĞºÑ‚: Delivered in 2 weeks, stable, exceeded performance target

Ğ£Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ (stated): 0.75
Ğ£Ğ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ (calibrated): 0.62
Actual outcome: SUCCESS

ĞĞ½Ğ°Ğ»Ğ¸Ğ·:
â€¢ Original confidence (0.75) was appropriate for this decision
â€¢ Calibration adjustment was slightly too aggressive
â€¢ Fastify assumption validated: handles 12k req/s (target was 10k)

ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ°Ğ»Ğ¸Ğ±Ñ€Ğ¾Ğ²ĞºĞ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:
â€¢ Library choice calibration gap: +17% â†’ +14%
â€¢ Fastify-specific confidence: can be higher for this team

ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ assumptions:
â€¢ "Fastify handles our expected load" â†’ VALIDATED
â€¢ "Team can learn Fastify quickly" â†’ VALIDATED (no onboarding issues)
â€¢ "Fastify ecosystem has needed plugins" â†’ PARTIALLY_VALIDATED (one compat issue)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
```

---

## Membria (Superagent) vs Multi-Agent Architecture

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Multi-Agent â€” Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğ¹ Ñ‚ÑƒĞ¿Ğ¸Ğº

**Ğ§Ñ‚Ğ¾ Ñ‚Ğ°ĞºĞ¾Ğµ Multi-Agent Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°:**

```mermaid
flowchart TD
  U["Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ"] --> O["Orchestrator Agent<br/>\"Ğ Ğ°Ğ·Ğ±ĞµÑ€Ğ¸ÑÑŒ, ĞºÑ‚Ğ¾ Ñ‡Ñ‚Ğ¾ Ğ´ĞµĞ»Ğ°ĞµÑ‚\""]
  O --> P["Planner Agent"]
  O --> C["Coder Agent"]
  O --> R["Reviewer Agent"]
  O --> T["Tester Agent"]
  P --> F["Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚"]
  C --> F
  R --> F
  T --> F
```

ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ°Ğ³ĞµĞ½Ñ‚ = Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ·Ğ¾Ğ² LLM Ñ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼.

---

### Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²: Multi-Agent vs Membria

**Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ·Ğ°Ğ´Ğ°Ñ‡Ğ°: "Add REST API for user management"**

#### Multi-Agent Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´:

| Agent | Input tokens | Output tokens | Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ (Claude Sonnet) |
| :--- | :--- | :--- | :--- |
| Orchestrator | 4,000 | 500 | $0.018 |
| Planner | 6,000 | 1,500 | $0.030 |
| Coder | 8,000 | 3,000 | $0.057 |
| Reviewer | 12,000 | 1,000 | $0.051 |
| Tester | 10,000 | 800 | $0.039 |
| Fixer (iteration 1) | 14,000 | 2,000 | $0.062 |
| Fixer (iteration 2) | 16,000 | 1,500 | $0.066 |
| **TOTAL per task** | **70,000** | **10,300** | **$0.32** |

**Ğ’ Ğ´ĞµĞ½ÑŒ (20 Ğ·Ğ°Ğ´Ğ°Ñ‡):** $6.40
**Ğ’ Ğ¼ĞµÑÑÑ† (20 Ñ€Ğ°Ğ±Ğ¾Ñ‡Ğ¸Ñ… Ğ´Ğ½ĞµĞ¹):** $128 Ğ½Ğ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°
**ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° 5 Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº:** $640/Ğ¼ĞµÑÑÑ† Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ñ‹

Ğ˜ ÑÑ‚Ğ¾ **Ğ½Ğµ Ğ²ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚:**
* retries Ğ½Ğ° failures
* long contexts Ğ² Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°Ñ…
* scaling Ğ¿Ñ€Ğ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞµ

#### Membria Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´ (Superagent):

| Component | Input tokens | Output tokens | Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ |
| :--- | :--- | :--- | :--- |
| Context fetch (Graph query) | 0 | 0 | $0 (local) |
| ĞĞ´Ğ¸Ğ½ Ğ²Ñ‹Ğ·Ğ¾Ğ² Claude + Ğ¸Ğ½ÑŠĞµĞºÑ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ° | 6,000 | 3,000 | $0.033 |
| **TOTAL per task** | **6,000** | **3,000** | **$0.033** |

**Ğ’ Ğ´ĞµĞ½ÑŒ (20 Ğ·Ğ°Ğ´Ğ°Ñ‡):** $0.66
**Ğ’ Ğ¼ĞµÑÑÑ†:** $13.20 Ğ½Ğ° Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ°
**ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° 5 Ñ‡ĞµĞ»Ğ¾Ğ²ĞµĞº:** $66/Ğ¼ĞµÑÑÑ†

**Ğ Ğ°Ğ·Ğ½Ğ¸Ñ†Ğ°: Ğ² 10 Ñ€Ğ°Ğ· Ğ´ĞµÑˆĞµĞ²Ğ»Ğµ**

---

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Multi-Agent ÑĞ¶Ğ¸Ğ³Ğ°ĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹

```mermaid
flowchart TD
  subgraph MA["Multi-Agent: O(n^2) token growth"]
    direction TB
    U1["Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ"] --> Orch["Orchestrator<br/>4K tokens"]
    Orch --> Plan["Planner<br/>6K tokens<br/>(duplicates Orch context)"]
    Plan --> Code["Coder<br/>8K tokens<br/>(duplicates Orch + Plan)"]
    Code --> Rev["Reviewer<br/>12K tokens<br/>(duplicates all prior)"]
  end

  subgraph MS["Membria: O(1) token growth"]
    direction TB
    U2["Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ"] --> GQ["Graph Query<br/>Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾, 0 Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²"]
    GQ --> CTX["Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚<br/>~2K Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²"]
    CTX --> LLM["ĞĞ´Ğ¸Ğ½ Ğ²Ñ‹Ğ·Ğ¾Ğ² Claude<br/>Ğ¸Ñ‚Ğ¾Ğ³Ğ¾ 6K Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²"]
  end
```

### Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Multi-Agent

1. **Ğ¤Ñ€Ğ°Ğ³Ğ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ°**
   * Planner Agent thinks: "Use Redis for cache"
   * Coder Agent doesn't get full reason context
   * â†’ implements in-memory cache
   * â†’ Reviewer: "Why not Redis?"
   * â†’ 3 more iterations

2. **Ğ Ğ°Ğ·Ğ¼Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸**
   * bug in prod. "Which agent decided this?"
   * Orchestrator: "I just assigned tasks"
   * Planner: "I gave a plan, Coder changed it"
   * Coder: "Reviewer approved it"
   * Reviewer: "Tester missed it"
   * â†’ no single decision record, no accountability

3. **ĞĞµÑĞ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ Ñ€Ğ°ÑÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ğ¹**
   * Planner (temperature 0.7): creative plan
   * Coder (temperature 0.2): conservative implementation
   * â†’ mismatch between plan and code
   * â†’ Reviewer doesn't understand intent

4. **Ğ­ĞºÑĞ¿Ğ¾Ğ½ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑĞ±Ğ¾Ğ¸**
   * 5 agents, each 95% reliable
   * total reliability: $0.95^5 = 77\%$
   * 23% of tasks require retry = even more tokens

---

## Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ Ñ†ĞµĞ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ’ĞµĞ½Ğ´Ğ¾Ñ€Ñ‹ Multi-Agent (usage-based)

```
ĞœĞµÑÑÑ† 1:  Ñ€Ğ°Ğ·Ğ³Ğ¾Ğ½ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹         â†’ $200
ĞœĞµÑÑÑ† 2:  Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°    â†’ $800
ĞœĞµÑÑÑ† 3:  Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½, heavy usage   â†’ $2,400
ĞœĞµÑÑÑ† 4:  ĞµÑ‰Ğµ Ğ¾Ğ´Ğ¸Ğ½ Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½       â†’ $3,100

CFO: "ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ ÑÑ‡ĞµÑ‚ Ğ·Ğ° Ğ˜Ğ˜ Ğ²Ñ‹ÑˆĞµ, Ñ‡ĞµĞ¼ Ğ·Ğ° AWS?"
```

### Membria (subscription)

```
ĞœĞµÑÑÑ† 1:  $49/seat Ã— 5 = $245
ĞœĞµÑÑÑ† 2:  $245
ĞœĞµÑÑÑ† 3:  $245 (Ğ´ĞµĞ´Ğ»Ğ°Ğ¹Ğ½? Ñ‚Ğ° Ğ¶Ğµ Ñ†ĞµĞ½Ğ°)
ĞœĞµÑÑÑ† 4:  $245

ĞŸÑ€ĞµĞ´ÑĞºĞ°Ğ·ÑƒĞµĞ¼Ğ¾. Ğ‘ÑĞ´Ğ¶ĞµÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾. Ğ‘ĞµĞ·Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ½Ğ¾.
```

### ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ subscription Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ´Ğ»Ñ Membria

```
Ğ—Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹ Membria:
â”œâ”€â”€ Graph storage: $0.001 per decision (negligible)
â”œâ”€â”€ Graph queries: local, CPU only
â”œâ”€â”€ LLM calls: user pays for their own Claude tokens (BYOK)
â””â”€â”€ Our infrastructure: fixed

ĞœÑ‹ ĞĞ• Ğ¿ĞµÑ€ĞµĞ¿Ñ€Ğ¾Ğ´Ğ°ĞµĞ¼ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ñ Ğ½Ğ°Ñ†ĞµĞ½ĞºĞ¾Ğ¹.
ĞœÑ‹ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞµĞ¼ ĞšĞĞĞ¢Ğ•ĞšĞ¡Ğ¢, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ´ĞµĞ»Ğ°ĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½ĞµĞµ.
```

**Multi-agent vendor incentive:** Ğ²Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚Ğµ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² = Ğ¾Ğ½Ğ¸ Ğ·Ğ°Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ.

**Membria incentive:** Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ = Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ½ÑƒĞ¶Ğ½Ñ‹Ñ… Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ² = Ğ±Ğ¾Ğ»ĞµĞµ Ğ´Ğ¾Ğ²Ğ¾Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ = Ğ±Ğ¾Ğ»ÑŒÑˆĞµ seats.

---

## Ğ˜Ñ‚Ğ¾Ğ³

Multi-agent Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ñ€ĞµÑˆĞ°ĞµÑ‚ Ğ·Ğ°Ğ´Ğ°Ñ‡Ñƒ "ĞºĞ°Ğº Ñ€Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ" Ğ¿ÑƒÑ‚ĞµĞ¼ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹: "ĞºĞ°Ğº ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸, Ğ½Ğµ Ñ€Ğ°Ğ·Ğ¾Ñ€Ğ¸Ğ²ÑˆĞ¸ÑÑŒ Ğ½Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ñ…".

**Membria Superagent** Ñ€ĞµÑˆĞ°ĞµÑ‚ ĞºĞ¾Ñ€Ğ½ĞµĞ²ÑƒÑ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ: **Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ Ğ°Ğ³ĞµĞ½Ñ‚Ñƒ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚** Ğ²Ğ¼ĞµÑÑ‚Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ñ‚Ğ¾Ğ»Ğ¿Ñ‹ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ½ĞµĞ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¼ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ¼.

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:
* AI, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¼Ğ½Ğ¸Ñ‚ Ğ²Ğ°Ñˆ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚.
* Ğ ĞµÑˆĞµĞ½Ğ¸Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½Ğµ Ñ‚ĞµÑ€ÑÑÑ‚ÑÑ.
* ĞÑˆĞ¸Ğ±ĞºĞ¸, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½Ğµ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑÑÑ‚ÑÑ.
* Ğ—Ğ°Ñ‚Ñ€Ğ°Ñ‚Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ Ğ½Ğµ Ğ²Ğ·Ñ€Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ.

**Vibe coding Ğ¿ĞµÑ€ĞµÑÑ‚Ğ°ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ "Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸ĞµĞ¹ Ñ Ğ½ÑƒĞ»Ñ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ€Ğ°Ğ·" Ğ¸ ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ "Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸ĞµĞ¹ Ñ Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒÑ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°".**

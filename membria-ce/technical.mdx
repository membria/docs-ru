---
title: "Разделение системной архитектуры"
description: "Захват решений на стороне клиента против графа знаний и гейтвеев на бэкенде"
---

## Двухуровневая система

Membria CE разделена на:

1. **Клиентский слой:** Decision Black Box (DBB) + Decision Surface (DS) + **Движок Decision Intelligence (DI)**
2. **Бэкенд-слой:** Knowledge Cache Graph (KCG) + DoD + Peaq + Arweave + Консенсус гейтвеев

Клиент фиксирует истину решений и оптимизирует выбор локально; бэкенд обрабатывает эскалации знаний и обеспечивает неизменяемое хранение.

## Клиентский слой (DBB + DS + DI)

- Наблюдает за потоками взаимодействий (чат, файлы, инструменты).
- Детектирует моменты принятия решений и «замораживает» рассуждения.
- Автоматически вычисляет ценность информации (VoI) и трекает убеждения (POMDP).
- Записывает неизменяемые записи о решениях (исходы добавляются в режиме append-only).
- Отрисовывает карточки сигналов: открытые петли, скрытые разногласия, дрифт, ожидаемые результаты.

## Бэкенд-слой (KCG + гейтвеи)

- Обрабатывает DoD-эскалации и рассуждения Совета ИИ (Council).
- Сохраняет полезную нагрузку знаний (knowledge payloads) в Arweave, используя Peaq в качестве слоя логики и консенсуса.
- Использует валидаторы гейтвеев для верификации знаний, пакетной обработки событий консенсуса и поддержки индексов.
- Предоставляет путь чтения для клиентов через SCR-бандлы и извлечение с приоритетом кэша.

## Модели данных

- `DecisionEvent` (клиент): неизменяемая запись о решении, без сырого чата.
- `KnowledgeEvent` (бэкенд): верифицированная полезная нагрузка знаний со связкой ArTxID + событие Peaq.
- `Outcome` (клиент): результаты в режиме append-only; не изменяет исходную запись о решении.

## Сквозной поток (End-to-end flow)

1. Клиент фиксирует решение (DBB) и выводит сигналы (DS + DI).
2. Если уверенность низка или требуются внешние знания, клиент инициирует DoD.
3. Совет на бэкенде генерирует проверенное знание, записывает его в KCG (Peaq + Arweave).
4. Клиент сохраняет верифицированную ссылку, не меняя оригинальное решение.

---
title: "Управление архитектурой"
description: "Деградация ребер графа, RBAC, протоколы переопределения и активный поиск причинности."
---

# Слой корпоративного управления (Enterprise Governance Layer)

Слой управления (Governance Layer) предоставляет необходимые ограничения (guardrails) для развертывания Reasoning Graph Membria в многопользовательской корпоративной среде с высокими ставками. Он интегрирует **приоритизацию на основе VoI** и **POMDP-трекинг убеждений** для обеспечения целостности решений.

## 1. Модель полураспада (Revised)

Причинно-следственные связи в бизнесе не статичны. Рыночные условия меняются, делая прошлые «истины» недействительными. Membria реализует доменно-специфичную модель затухания для отслеживания «волатильности знаний»:

- **Динамика рынка:** период полураспада 90 дней.
- **Вендорские отношения:** период полураспада 180 дней.
- **Регуляторные/юридические:** СТУПЕНЧАТОЕ затухание (действительно до явного события изменения).
- **Техническая архитектура:** период полураспада 365 дней.

**Математическая логика:**
- **Функция затухания:** $Belief_{t} = Belief_{t_0} \cdot e^{-\lambda(t-t_0)}$
- **Обновление доказательств:** Когда фиксируется новый Исход (Outcome), таймер затухания сбрасывается. Вес обновляется через инфузию Beta-распределения ($Outcome("success"): Beta(\alpha, \beta) \to Beta(\alpha+1, \beta)$).
- **Ускорение при конфликте:** Если новый исход противоречит существующему ребру графа → ускорить затухание (период полураспада $\div$ 2).

---

## 2. Многопользовательский Graph RBAC

Для обеспечения конфиденциальности данных и предотвращения утечек информации между отделами Membria реализует тонкую настройку прав доступа на уровне графа.

### Поиск на основе политик (Policy-Based Retrieval)
- **Чувствительность узла:** Каждый узел имеет `sensitivity_level` (Public, Internal, Secret).
- **Область доступа:** Retrieval Orchestrator автоматически добавляет предикаты безопасности в Cypher-запросы на основе `session_token` пользователя.
- **Атомарная блокировка:** Узлы уровня Secret исключаются из векторного индекса, используемого агентами общего назначения.

---

## 3. Разрешение конфликтов и ручное переопределение (Human Override)

Когда слой каузальности противоречит человеческому решению или предложению на основе рассуждений, должен соблюдаться формальный протокол разрешения.

### Лог переопределений (Override Log)
Если человек принимает решение вопреки предупреждению о «негативном знании»:
1. **Явное обоснование:** Пользователь должен предоставить причину (фиксируется как связь `SUPERSEDES`).
2. **Метка сдвига контекста:** Система помечает решение тегом `HYPOTHESIS_CONTEXT_SHIFT`, сигнализируя, что пользователь считает старую каузальную модель более не актуальной.
3. **Флаг высоких ставок:** Такие переопределения автоматически эскалируются для мониторинга.

---

## 4. Агент поиска причинности (Петля разбора — Debriefing Loop)

Когда прогноз оказывается неверным, система ищет недостающий **мешающий фактор (Confounder)**.

### Рекурсивный поиск
Агент поиска причинности (Causal Discovery Agent) запускает сессию разбора после получения исхода:
- **Поиск:** Он запрашивает внешние API на предмет переменных, которые изменились в Окне Принятия Решения (Decision Window).
- **Генерация кандидатов:** Он предлагает новые узлы `Variable`, которые могли бы объяснить отклонение.
- **Инъекция узла:** В случае подтверждения новый мешающий фактор добавляется в граф.

---

## 5. Многоагентный консенсус (Предотвращение коллизий)

Когда несколько автономных агентов предлагают конфликтующие вмешательства в одной области графа, система должна предотвращать "каузальные коллизии" — одновременные записи, которые повреждают каузальные ребра.

### Протокол блокировок
- **Оптимистические блокировки:** Агенты читают снепшот подграфа с версионным тегом. При записи версия проверяется; если устарела, агент должен перечитать и переоценить.
- **Песочница симуляции:** Перед фиксацией каждый агент прогоняет вмешательство в изолированной копии затронутого подграфа, чтобы выявить побочные эффекты.
- **Эскалация конфликтов:** Если два агента предлагают противоречащие действия на одном узле `Decision` в пределах одного Decision Window, оба предложения замораживаются и эскалируются в [Decision Surface](/development) для ручного разрешения.

---

## Связанные документы

- [Causal Memory Layer](/causal-memory) — формальная каузальная модель, которую Governance ограничивает и валидирует.
- [Cognitive Safety & LLM Bias Firewall](/cognitive-safety) — валидация сигналов перед тем, как решения попадут в граф.
- [Reasoning Graph Architecture](/rg-architecture) — базовая структура графа, управляемая этими политиками.
- [IT Architecture & Stack](/it-architecture-stack) — варианты развертывания, требования к инфраструктуре и технологические выборы.
